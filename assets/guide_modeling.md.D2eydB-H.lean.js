import{_ as e,D as h,c as k,I as n,w as t,a4 as l,j as s,a as i,o as p}from"./chunks/framework.CXozoTLq.js";const d="/wow/assets/aggregation-pattern.C2giArjJ.svg",r="/wow/assets/single-class-pattern.DF_fHEBW.svg",E="/wow/assets/inheritance-pattern.BuKlktF0.svg",x=JSON.parse('{"title":"聚合根建模","description":"","frontmatter":{},"headers":[],"relativePath":"guide/modeling.md","filePath":"guide/modeling.md","lastUpdated":1721086461000}'),o={name:"guide/modeling.md"},g=l("",4),c=s("p",null,[s("img",{src:d,alt:"Aggregation Class - Modeling"})],-1),y=s("h3",{id:"单一类模式",tabindex:"-1"},[i("单一类模式 "),s("a",{class:"header-anchor",href:"#单一类模式","aria-label":'Permalink to "单一类模式"'},"​")],-1),m=s("p",null,"单一类模式将命令函数、溯源函数以及聚合状态数据放置在一起，这样做的好处是简单直接。",-1),F=s("div",{class:"danger custom-block"},[s("p",{class:"custom-block-title"},"DANGER"),s("p",null,[i("但是因为所在同一个类中，所以命令函数是可以直接变更聚合状态数据的，这违反了"),s("code",null,"EventSourcing"),i("的原则。 要求开发人员时刻谨记，命令函数只能返回领域事件并交由溯源函数来变更聚合状态数据。")])],-1),u=s("p",null,[s("img",{src:r,alt:"Single Class - Modeling"})],-1),_=s("h3",{id:"继承模式",tabindex:"-1"},[i("继承模式 "),s("a",{class:"header-anchor",href:"#继承模式","aria-label":'Permalink to "继承模式"'},"​")],-1),C=s("p",null,[i("继承模式将状态聚合根作为基类，并且将"),s("code",null,"setter"),i("访问器设置为"),s("code",null,"private"),i("。以避免命令聚合根在命令函数中修改聚合状态数据。")],-1),A=s("p",null,[s("img",{src:E,alt:"Inheritance - Modeling"})],-1),D=l("",9);function B(I,v,b,f,q,S){const a=h("center");return p(),k("div",null,[g,n(a,null,{default:t(()=>[c]),_:1}),y,m,F,n(a,null,{default:t(()=>[u]),_:1}),_,C,n(a,null,{default:t(()=>[A]),_:1}),D])}const P=e(o,[["render",B]]);export{x as __pageData,P as default};
